<div class="container">
	<h3 class="col-sm-12 col-md-8 offset-md-2">依頼編集</h3>
	<% if flash[:error] %>
		<div class="error-message">
			<i class="fa fa-exclamation-circle"></i><%= flash[:error] %>
		</div>
	<% end %>
	<div class="row">
	    <div class="col-sm-12 col-md-8 offset-md-2">
	    	<%= render 'layouts/error_messages', model: @request %>
	    </div>
	</div>
	<div class="row">
		<div class="col-sm-12 col-md-8 offset-md-2 edit-form">
			<%= form_with model: @request, local: true, url: users_request_path(@request), class: "form-horizontal" do |f| %>
				<div class="form-group row">
					<%= f.label :"タイトル", class: "col-4 control-label" %>
					<div class="col-8">
						<%= f.text_field :title, class: "form-control" %>
					</div>
				</div>
				<div class="form-group row">
					<%= f.label :"詳細", class: "col-4 control-label" %>
					<div class="col-8">
						<%= f.text_area :content, class: "form-control" %>
					</div>
				</div>
				<div class="form-group row">
					<%= f.label :"日時", class: "col-4 control-label" %>
					<div class="input-group col-8" data-target-input="nearest">
						<%= f.text_field :datetime, id: "datetime",class: "form-control datepicker", data: { target: '#datetime'} %>
						<div class="input-group-append" data-target="#datetime" data-toggle="datetimepicker">
				        	<div class="input-group-text"><i class="fa fa-calendar"></i></div>
				   		</div>
					</div>
				</div>
			    <div class="form-group row">
			    	<%= f.label :"住所", class: "col-4 control-label" %>
				    <div class="col-8">
						<%= f.text_field :address, class: "form-control" %>
					</div>
			    </div>
			    <div class="form-group row">
			    	<%= f.label :"募集人数", class: "col-4 control-label" %>
				    <div class="col-6" style="text-align: left;">
						<%= f.select :capacity, options_for_select((1..(@request.capacity + current_user.ticket)).to_a), class: "form-control" %>
					</div>
			    </div>
				<div class="form-group row">
					<%= f.label :"募集締切日時", class: "col-4 control-label" %>
					<div class="input-group col-8" data-target-input="nearest">
						<%= f.text_field :deadline, id: "deadline",class: "form-control datepicker", data: { target: '#deadline'} %>
						<div class="input-group-append" data-target="#deadline" data-toggle="datetimepicker">
				        	<div class="input-group-text"><i class="fa fa-calendar"></i></div>
				   		</div>
					</div>
				</div>
			    <div class="form-group row">
			    	<%= f.label :"サムネイル", class: "col-4 control-label" %>
				    <div class="col-8">
						<%= f.attachment_field :image %>
					</div>
			    </div>
				<div>
					<%= f.submit "更新する", class: "btn btn-success", style: "margin-bottom: 20px; width: 100%;" %>
				</div>
			<% end %>
			<div class="caution">
				<p>・*のついた項目は必ず入力してください。<br>・募集人数を変更した場合、変更前と変更後の差分のチケットが消費または返還されます。</p>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
    $(function () {
        $('#datetime').datetimepicker();
    });
    $(function () {
        $('#deadline').datetimepicker();
    });
</script>